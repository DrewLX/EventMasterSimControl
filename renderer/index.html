<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8">
    <title>Event Master Simulator Controller</title>
    <link rel="stylesheet" href="./bootstrap-nick.css">
    <link rel="stylesheet" href="./style.css">
    <link rel="stylesheet" href="./drewstyle.css">
    <script src="../node_modules/vue/dist/vue.js"></script>
    <script src="./js/jquery.js"></script>
    <!-- JQuery Library -->
  	<script src="./js/bootstrap-jquery.js" type="text/javascript"></script>
    <script src="./js/cookies.js" type="text/javascript"></script>
  </head>
  <body>





<div id="page-content">
<div class="container text-center align-middle" >

<div class="row align-middle">
  <div class="col-sm-3"></div>
  <div class="col-sm-6">
    <h2>Event Master Simulator Controller</h2>
  </div>
  <div class="col-sm-3 align-middle">
  </div>
</div>

  <h4>Select Frame</h4>
  <div id="frame-indicator"><img class="img" alt="s3 frame" src="./img/frame-indicator-1.png"></div>
<hr>

    <h4>Select I/O Cards</h4>
  <div class="well">
  			<div id="frame-container"><div class="frame" id="frame-1"><div class="slot slot-0 card-70"><div class="header" style="background-color: rgb(219, 163, 30);">Exp</div><div class="connectors"></div></div><div class="slot slot-1 card-50"><div class="header" style="background-color: rgb(16, 16, 16);">VPU</div><div class="connectors"></div></div><div class="slot slot-2 card-50"><div class="header" style="background-color: rgb(16, 16, 16);">VPU</div><div class="connectors"></div></div><div class="slot slot-3 selectable card-1"><div class="header" style="background-color: rgb(149, 176, 251);">In</div><div class="connectors"></div></div><div class="slot slot-4 selectable card-2"><div class="header" style="background-color: rgb(149, 176, 251);">In</div><div class="connectors"></div></div><div class="slot slot-5 selectable card-2"><div class="header" style="background-color: rgb(149, 176, 251);">In</div><div class="connectors"></div></div><div class="slot slot-6 selectable card-21"><div class="header" style="background-color: rgb(26, 193, 97);">Out</div><div class="connectors"></div></div><div class="slot slot-7 selectable card-22"><div class="header" style="background-color: rgb(26, 193, 97);">Out</div><div class="connectors"></div></div><div class="slot slot-8 card-40"><div class="header" style="background-color: rgb(69, 150, 96);">MVR</div><div class="connectors"></div></div></div></div>
  			<ul id="selection-controls" class="list-unstyled list-inline">
  				<li id="btn-select-all-slots">Select All</li>
  				<li id="btn-deselect-all-slots">Select None</li>
  				<li id="btn-invert-slot-selection">Invert Selection</li>
  			</ul>
  		</div>


<div class="row" id="card-select">
  </div>

<div class="row">
			<div class="col-xs-4 col-md-4" id="expansion-select">
				<h4>Expansion</h4>
				<div class="btn-group"><button class="btn btn-lg btn-default">0</button><button class="btn btn-lg btn-default active">1</button></div>
			</div>
			<div class="col-xs-4 col-md-4" id="vpu-select">
				<h4>VPU</h4>
				<div class="btn-group"><button class="btn btn-lg btn-default">0</button><button class="btn btn-lg btn-default">1</button><button class="btn btn-lg btn-default active">2</button></div>
			</div>
			<div class="col-xs-4 col-md-4" id="mv-select">
				<h4>MV Slot</h4>
				<div class="btn-group">
					<button class="btn btn-lg btn-default active" data-mv-as-output="false">Multiview</button>
					<button class="btn btn-lg btn-default" data-mv-as-output="true">Output</button>
				</div>
			</div>
		</div>

    <hr>

    <div class="row" id="link-select">
			<div class="col-xs-2">
				<p class="text-left">Connector Key</p>
				<div id="links-connector-key"><div class="connector-key-card"><div class="connector-key-card-header" style="background-color: rgb(219, 163, 30);">Exp</div><div class="connector-key-connector top-link">0-0</div><div class="connector-key-connector bottom-link">0-1</div></div><div class="connector-key-card"><div class="connector-key-card-header" style="background-color: rgb(219, 163, 30);">Exp</div><div class="connector-key-connector top-link dimmed">1-0</div><div class="connector-key-connector bottom-link dimmed">1-1</div></div></div>
			</div>
			<div class="col-xs-10">
				<table class="table table-bordered text-left ">
					<tbody>
						<tr>
							<th>From <br>Connector</th>
							<th>Frame Type</th>
							<th>To Connector</th>
							<th>Frame ID</th>
							<th>IP Address</th>
							<th>MAC Address</th>
						</tr>
					<tr class="link-row">
					<td class=" text-center">
						<input type="hidden" name="linkFromConnector|0_0" class="link-from-connector">
						<p class="link-from-text">0-0</p>
					</td>
					<td>
						<div class="input-group">
							<select name="linkFrameType|0_0" class="link-frame-type form-control input-sm">
								<option value="x">None</option>
								<option value="0">E2</option>
								<option value="1">S3-4K</option>
								<option value="2">Ex</option>
							</select>
							<div class="input-group-addon input-sm copy-to-all" data-toggle="tooltip" data-placement="top" title="" data-original-title="Copy To All">
								<span class="glyphicon glyphicon-duplicate"></span>
							</div>
						</div>
					</td>
					<td>
						<select name="linkToConnector|0_0" class="link-to-connector form-control input-sm" disabled="">
							<option value="0_0">0-0</option>
							<option value="0_1">0-1</option>
							<option value="1_0">1-0</option>
							<option value="1_1">1-1</option>
						</select>
					</td>
					<td>
						<div class="input-group">
							<input type="text" name="linkUnitId|0_0" size="4" class="link-unit-id form-control input-sm" disabled="">
							<div class="input-group-addon input-sm copy-to-all" data-toggle="tooltip" data-placement="top" title="" data-original-title="Copy To All">
								<span class="glyphicon glyphicon-duplicate"></span>
							</div>
						</div>

					</td>
					<td>
						<div class="form-group">
							<input type="text" name="linkIpAddress|0_0" class="link-ip-address form-control input-sm" data-input-type="ip" disabled="">
						</div>
					</td>
					<td>
						<div class="form-group">
							<input type="text" name="linkMacAddress|0_0" class="link-mac-address form-control input-sm" data-input-type="mac" disabled="">
						</div>
					</td>
				</tr><tr class="link-row">
					<td class=" text-center">
						<input type="hidden" name="linkFromConnector|0_1" class="link-from-connector">
						<p class="link-from-text">0-1</p>
					</td>
					<td>
						<div class="input-group">
							<select name="linkFrameType|0_1" class="link-frame-type form-control input-sm">
								<option value="x">None</option>
								<option value="0">E2</option>
								<option value="1">S3-4K</option>
								<option value="2">Ex</option>
							</select>
							<div class="input-group-addon input-sm copy-to-all" data-toggle="tooltip" data-placement="top" title="" data-original-title="Copy To All">
								<span class="glyphicon glyphicon-duplicate"></span>
							</div>
						</div>
					</td>
					<td>
						<select name="linkToConnector|0_1" class="link-to-connector form-control input-sm" disabled="">
							<option value="0_0">0-0</option>
							<option value="0_1">0-1</option>
							<option value="1_0">1-0</option>
							<option value="1_1">1-1</option>
						</select>
					</td>
					<td>
						<div class="input-group">
							<input type="text" name="linkUnitId|0_1" size="4" class="link-unit-id form-control input-sm" disabled="">
							<div class="input-group-addon input-sm copy-to-all" data-toggle="tooltip" data-placement="top" title="" data-original-title="Copy To All">
								<span class="glyphicon glyphicon-duplicate"></span>
							</div>
						</div>

					</td>
					<td>
						<div class="form-group">
							<input type="text" name="linkIpAddress|0_1" class="link-ip-address form-control input-sm" data-input-type="ip" disabled="">
						</div>
					</td>
					<td>
						<div class="form-group">
							<input type="text" name="linkMacAddress|0_1" class="link-mac-address form-control input-sm" data-input-type="mac" disabled="">
						</div>
					</td>
				</tr></tbody>
				</table>
			</div>


			<template id="link-row-template">
				<tr class="link-row">
					<td class=" text-center">
						<input type="hidden" name="linkFromConnector" class="link-from-connector">
						<p class="link-from-text"></p>
					</td>
					<td>
						<div class="input-group">
							<select name="linkFrameType" class="link-frame-type form-control input-sm">
								<option value="x">None</option>
								<option value="0">E2</option>
								<option value="1">S3-4K</option>
								<option value="2">Ex</option>
							</select>
							<div class="input-group-addon input-sm copy-to-all" data-toggle="tooltip" data-placement="top" title="Copy To All">
								<span class="glyphicon glyphicon-duplicate"></span>
							</div>
						</div>
					</td>
					<td>
						<select name="linkToConnector" class="link-to-connector form-control input-sm">
							<option value="0_0">0-0</option>
							<option value="0_1">0-1</option>
							<option value="1_0">1-0</option>
							<option value="1_1">1-1</option>
						</select>
					</td>
					<td>
						<div class="input-group">
							<input type="text" name="linkUnitId" size="4" class="link-unit-id form-control input-sm">
							<div class="input-group-addon input-sm copy-to-all" data-toggle="tooltip" data-placement="top" title="Copy To All">
								<span class="glyphicon glyphicon-duplicate"></span>
							</div>
						</div>

					</td>
					<td>
						<div class="form-group">
							<input type="text" name="linkIpAddress" class="link-ip-address form-control input-sm" data-input-type="ip">
						</div>
					</td>
					<td>
						<div class="form-group">
							<input type="text" name="linkMacAddress" class="link-mac-address form-control input-sm" data-input-type="mac">
						</div>
					</td>
				</tr>
			</template>

		</div>

    <div id="no-links" style="display: none;">
			<p>No Links Available</p>
		</div>

    <hr>

    <div id="info-tables" class="well well-lg clearfix">
			<div class="row">
				<div class="col-xs-4">
					<table class="table table-bordered table-condensed">
						<thead>
							<tr>
								<th colspan="2">Inputs:</th>
							</tr>
						</thead>
						<tbody id="input-info"><tr><td>HDMI</td><td>4</td></tr><tr><td>SDI</td><td>4</td></tr><tr><td>Display Port</td><td>4</td></tr></tbody>
					</table>
				</div>
				<div class="col-xs-4">
					<table class="table table-bordered table-condensed">
						<thead>
							<tr>
								<th colspan="2">Outputs:</th>
							</tr>
						</thead>
						<tbody id="output-info"><tr><td>HDMI</td><td>4</td></tr><tr><td>SDI</td><td>4</td></tr></tbody>
					</table>
				</div>
				<div class="col-xs-4">
					<table class="table table-bordered table-condensed">
						<thead>
							<tr>
								<th colspan="2">Maximum Layers:</th>
							</tr>
						</thead>
						<tbody id="layer-info"><tr><td>Mixer</td><td>4</td></tr><tr><td>Single</td><td>8</td></tr></tbody>
					</table>
				</div>
			</div>
		</div>

</div>
</div>



  <div class="container align-middle" id="simcontrol">

    <div class="row">
      <div class="col-sm-4">

        <button class="btn btn-default drewbtnwidth" v-if="!running" v-on:click="start()"><span class="glyphicon glyphicon-play" aria-hidden="true"></span> Save & Start </button>
        <button class="btn btn-default drewbtnwidth" v-if="running" v-on:click="reload()"><span class="glyphicon glyphicon-refresh" aria-hidden="true"></span> Save & Reload</button>
        <button class="btn btn-default drewbtnwidth" :disabled="!running" v-on:click="stop()"><span class="glyphicon glyphicon-stop" aria-hidden="true"></span> Stop </button>

        <!-- <button class="btn btn-default" v-on:click="fetchXML();"> Fetch XML</button> -->
      </div>
      <div class="col-sm-4 text-center">
        <span v-if="!running" style="color: red"><span class="glyphicon glyphicon-remove" aria-hidden="true"></span> Stopped</span>
        <span v-if="running" style="color: green"><span class="glyphicon glyphicon-ok" aria-hidden="true"></span> Running</span>
        <br />
        <span style="color: red; font-weight: bold;">{{ error }}</span>
      </div>
      <div class="col-sm-4 text-right">
        <button class="btn btn-default drewbtnwidth" v-on:click="saveAs()" title=""><span class="glyphicon glyphicon-save" aria-hidden="true"> </span> Save As</button>
        <button class="btn btn-default drewbtnwidth" v-on:click="choosePath()" title="" id="pathbtn"><span class="glyphicon glyphicon-folder-open" aria-hidden="true"> </span> Set Path</button>
        <button class="btn btn-default drewbtnwidth" v-on:click="about()"><span class="glyphicon glyphicon-info-sign" aria-hidden="true"> </span> About</button>
      </div>
    </div>

  <div class="row">
    <div class="col-sm-12">
    <textarea id="log" class="col-lg" placeholder="Console Log:" readonly>{{ log }}</textarea>
  </div>
  </div>
</div>








<div class="modal fade" id="frame-select-modal" tabindex="-1" role="dialog" aria-labelledby="frame-select-modal" style="display: none;">
		<div class="modal-dialog" role="document">
			<div class="modal-content">
				<div class="modal-header">
					<button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">×</span></button>
					<h4 class="modal-title">Select Frame</h4>
				</div>
				<div class="modal-body text-center">
					<ul id="config-buttons" class="list-unstyled list-inline"><li><img class="img" alt="E2 frame small" src="./img/frame-icon-0.png"><br><div class="button-group"><button class="btn btn-lg btn-default">E2</button><button class="btn btn-lg btn-default">E2 Jr</button></div></li><li><img class="img" alt="s3 frame small" src="./img/frame-icon-1.png"><br><div class="button-group"><button class="btn btn-lg btn-default">S3-4K</button><button class="btn btn-lg btn-default">S3-4K Jr</button></div></li><li><img class="img" alt="ex frame small" src="./img/frame-icon-2.png"><br><div class="button-group"><button class="btn btn-lg btn-default">EX</button></div></li><li><img class="img" alt="ip4k frame small" src="./img/frame-icon-3.png"><br><div class="button-group"><button class="btn btn-lg btn-default">IP4K</button></div></li></ul>
					<br>
					<h5 id="changes-warning" class="alert alert-warning">Any changes you have made will be lost</h5>
				</div>
			</div>
		</div>
	</div>


	<!-- Bootstrap Core -->
	<script src="./js/bootstrap.js"></script>

	<!-- Other body scripts -->
	<script src="./js/jquery-inputmask.js"></script>

	<script src="./js/simxml.js"></script>

	<script>
		window.downloadUrl = '/download_xml';
		window.baseUrl = '.';
		$(function () {
			System.load();
		});
	</script>

    <script>
      // You can also require other files to run in this process
      require('./renderer.js')
    </script>
  </body>
</html>
